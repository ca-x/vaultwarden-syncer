<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{{.Title}} - Vaultwarden Syncer</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <link rel="stylesheet" href="/static/styles.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body{{if .AuthLayout}} class="auth-layout"{{end}}>
    {{if .ShowNav}}
    <nav>
        <ul>
            <li><strong class="brand-logo"><iconify-icon icon="mdi:shield-lock"></iconify-icon>Vaultwarden Syncer</strong></li>
        </ul>
        <ul>
            {{range .NavItems}}
            <li><a href="{{.URL}}">{{.Icon}} {{.Text}}</a></li>
            {{end}}
            <li>
                <button id="theme-toggle" class="theme-toggle-btn">
                    <!-- Light theme icon -->
                    <svg id="theme-icon-light" class="theme-icon" t="1757594755956" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7375" width="24" height="24" style="display: none;">
                        <path d="M512 192c179.2 0 320 140.8 320 320s-140.8 320-320 320-320-140.8-320-320S332.8 192 512 192M512 128C300.8 128 128 300.8 128 512s172.8 384 384 384 384-172.8 384-384S723.2 128 512 128L512 128z" fill="currentColor" p-id="7376"></path>
                        <path d="M544 416l236.8 0C774.4 403.2 768 384 761.6 371.2L544 371.2 544 416z" fill="currentColor" p-id="7377"></path>
                        <path d="M544 608l0 44.8 217.6 0c6.4-12.8 12.8-32 19.2-44.8L544 608z" fill="currentColor" p-id="7378"></path>
                        <path d="M544 723.2 544 768 640 768c25.6-12.8 44.8-25.6 64-44.8L544 723.2z" fill="currentColor" p-id="7379"></path>
                        <path d="M800 492.8l-256 0 0 44.8 256 0c0-6.4 0-12.8 0-25.6S800 499.2 800 492.8z" fill="currentColor" p-id="7380"></path>
                        <path d="M544 300.8 704 300.8c-19.2-19.2-38.4-32-64-44.8L544 256 544 300.8z" fill="currentColor" p-id="7381"></path>
                    </svg>
                    <!-- Dark theme icon -->
                    <svg id="theme-icon-dark" class="theme-icon" t="1757594846021" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12022" width="24" height="24" style="display: none;">
                        <path d="M512 832c-179.2 0-320-140.8-320-320s140.8-320 320-320 320 140.8 320 320S691.2 832 512 832M512 896c211.2 0 384-172.8 384-384s-172.8-384-384-384S128 300.8 128 512 300.8 896 512 896L512 896zM800 512c0-160-128-288-288-288l0 576C672 800 800 672 800 512zM480 608 243.2 608C249.6 620.8 256 640 262.4 652.8l217.6 0L480 608zM480 416 480 371.2 262.4 371.2C256 384 249.6 403.2 243.2 416L480 416zM480 300.8 480 256 384 256C358.4 268.8 339.2 281.6 320 300.8L480 300.8zM224 537.6l256 0L480 492.8l-256 0c0 6.4 0 12.8 0 19.2S224 524.8 224 537.6zM480 723.2 320 723.2c19.2 19.2 38.4 32 64 44.8l96 0L480 723.2z" fill="currentColor" p-id="12023"></path>
                    </svg>
                </button>
            </li>
        </ul>
    </nav>
    {{end}}
    
    <main class="container{{if .AuthLayout}} glass-card auth-container{{end}}">
        {{if .Message}}
        <div class="message message-{{.Message.Type}}">
            {{.Message.Icon}}
            <span>{{.Message.Content}}</span>
        </div>
        {{end}}
        {{.Content}}
    </main>
    
    <script>
        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIconLight = document.getElementById('theme-icon-light');
            const themeIconDark = document.getElementById('theme-icon-dark');
            const htmlElement = document.documentElement;
            
            // Check for saved theme or default to light
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);
            
            // Toggle theme on button click
            themeToggle.addEventListener('click', function() {
                const currentTheme = htmlElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                setTheme(newTheme);
            });
            
            function setTheme(theme) {
                htmlElement.setAttribute('data-theme', theme);
                localStorage.setItem('theme', theme);
                
                // Show/hide icons based on theme
                if (theme === 'light') {
                    themeIconLight.style.display = 'none';
                    themeIconDark.style.display = 'block';
                } else {
                    themeIconLight.style.display = 'block';
                    themeIconDark.style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>